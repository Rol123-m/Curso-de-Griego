<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Examen: Tiempo Perfecto — Semana 19 | Griego Koiné</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root{
            --primary-color:#2c3e50;
            --secondary-color:#3498db;
            --accent-color:#e74c3c;
            --light-color:#ecf0f1;
            --dark-color:#2c3e50;
            --correct-color:#2ecc71;
            --incorrect-color:#e74c3c;
            --transition-speed:.4s;
        }
        *{box-sizing:border-box;margin:0;padding:0;font-family:"Segoe UI",Tahoma,Arial,sans-serif}
        body{background:#f5f7fa;color:var(--dark-color);line-height:1.6;padding-bottom:2rem}
        .container{max-width:900px;margin:0 auto;padding:16px}
        header{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;padding:1rem 0;text-align:center;border-bottom:6px solid rgba(255,255,255,.06);box-shadow:0 6px 20px rgba(0,0,0,.08);margin-bottom:1.2rem}
        .logo{width:72px;height:72px;border-radius:50%;border:3px solid #fff;object-fit:cover;display:inline-block;margin-bottom:.6rem}
        header h1{font-size:1.5rem;margin-bottom:.2rem}
        header p{opacity:.95}
        .exam-info{background:#fff;padding:1.1rem;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,.06);margin-bottom:1rem}
        .student-data{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:.6rem}
        label{display:block;font-weight:700;color:var(--primary-color);margin-bottom:6px}
        input[type="text"]{width:100%;padding:10px;border:1px solid #ddd;border-radius:6px;font-size:1rem}
        .note{background:#e8f4fc;border-left:4px solid var(--secondary-color);padding:.8rem;border-radius:4px;margin-top:.8rem;font-size:.95rem}
        .question{background:#fff;border-radius:10px;padding:1.05rem;margin-bottom:12px;box-shadow:0 6px 18px rgba(0,0,0,.04)}
        .question-number{display:inline-block;width:32px;height:32px;border-radius:50%;background:var(--secondary-color);color:#fff;text-align:center;line-height:32px;font-weight:800;margin-right:10px}
        .question-text{font-weight:700;color:var(--primary-color);margin-bottom:.6rem}
        .options{display:grid;grid-template-columns:1fr;gap:8px}
        .option{padding:10px;border-radius:8px;background:#f8f9fa;border:1px solid #ddd;cursor:pointer;transition:all .15s ease}
        .option:hover{background:#eef7ff;border-color:var(--secondary-color)}
        .option.selected{background:var(--secondary-color);color:#fff;border-color:var(--secondary-color)}
        .option.correct{background:var(--correct-color);color:#fff;border-color:var(--correct-color)}
        .option.incorrect{background:var(--incorrect-color);color:#fff;border-color:var(--incorrect-color)}
        .actions{display:flex;justify-content:center;gap:12px;margin-top:14px}
        .btn{padding:12px 18px;border-radius:8px;border:none;cursor:pointer;font-weight:700;color:#fff;display:inline-flex;align-items:center;gap:8px}
        .btn-check{background:var(--secondary-color)}
        .btn-download{background:var(--accent-color)}
        .btn:disabled{opacity:.6;cursor:not-allowed}
        .result-container{background:#fff;padding:1rem;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,.04);margin-top:14px;display:none;text-align:center}
        .score{font-size:1.8rem;font-weight:800;color:var(--primary-color);margin-bottom:.4rem}
        .score-text{font-size:1rem;margin-bottom:.6rem}
        footer{text-align:center;padding:1rem;color:#7f8c8d;margin-top:18px;font-size:.9rem}
        .greek-text{font-family:"New Athena Unicode", "Galatia SIL", "Gentium Plus", serif;font-size:1.2em}
        @media(max-width:760px){
            .student-data{grid-template-columns:1fr}
        }
    </style>
</head>
<body>
<header>
    <img class="logo" src="https://i.postimg.cc/wMJ2bCgV/mas-logos.jpg" alt="Logo Vivos para Servir">
    <h1>Examen: Tiempo Perfecto — Semana 19</h1>
    <p>Ministerio Vivos para Servir — Curso de Griego Koiné</p>
</header>

<div class="container">
    <div class="exam-info">
        <h2>Instrucciones</h2>
        <p>Responde las 20 preguntas de selección múltiple sobre el tiempo perfecto (semana 19). Este examen es <strong>autoevaluable</strong>. Después de verificar, podrás descargar un archivo .txt con tu reporte de resultados.</p>

        <div class="student-data">
            <div>
                <label for="student-name">Nombre del estudiante</label>
                <input id="student-name" type="text" placeholder="Tu nombre completo">
            </div>
            <div>
                <label for="week">Semana</label>
                <input id="week" type="text" value="Semana 19" readonly>
            </div>
        </div>

        <div class="note">
            <strong>Importante:</strong> antes de verificar, asegúrate de seleccionar una opción por pregunta. Si dejas alguna sin seleccionar será contada como sin respuesta.
        </div>
    </div>

    <div id="questions">
        <!-- 20 preguntas -->
        <!-- Q1 -->
        <div class="question">
            <div class="question-text"><span class="question-number">1</span> ¿Cuál es el valor principal del tiempo perfecto en griego koiné?</div>
            <div class="options">
                <div class="option" data-correct="false">Describe una acción futura</div>
                <div class="option" data-correct="false">Describe una acción en curso</div>
                <div class="option" data-correct="true">Describe una acción completada en el pasado con efectos presentes</div>
                <div class="option" data-correct="false">Describe una acción hipotética</div>
            </div>
        </div>

        <!-- Q2 -->
        <div class="question">
            <div class="question-text"><span class="question-number">2</span> ¿Qué significa la palabra <span class="greek-text">Τετέλεσται</span> (Tetélestai) en Juan 19:30?</div>
            <div class="options">
                <div class="option" data-correct="false">Está terminando</div>
                <div class="option" data-correct="false">Terminó (acción pasada concluida)</div>
                <div class="option" data-correct="true">Ha sido consumado (y permanece consumado)</div>
                <div class="option" data-correct="false">Será consumado</div>
            </div>
        </div>

        <!-- Q3 -->
        <div class="question">
            <div class="question-text"><span class="question-number">3</span> ¿Cuál es la fórmula básica para formar el perfecto activo?</div>
            <div class="options">
                <div class="option" data-correct="false">Raíz + terminaciones primarias</div>
                <div class="option" data-correct="true">Reduplicación + raíz + κα + terminaciones primarias</div>
                <div class="option" data-correct="false">Reduplicación + raíz + terminaciones secundarias</div>
                <div class="option" data-correct="false">Raíz + σα + terminaciones primarias</div>
            </div>
        </div>

        <!-- Q4 -->
        <div class="question">
            <div class="question-text"><span class="question-number">4</span> ¿Qué elemento es característico del perfecto activo pero no del medio/pasivo?</div>
            <div class="options">
                <div class="option" data-correct="false">Reduplicación</div>
                <div class="option" data-correct="true">Formativo «κ»</div>
                <div class="option" data-correct="false">Terminaciones primarias</div>
                <div class="option" data-correct="false">Acento persistente</div>
            </div>
        </div>

        <!-- Q5 -->
        <div class="question">
            <div class="question-text"><span class="question-number">5</span> ¿Cómo se reduplica un verbo que comienza con vocal?</div>
            <div class="options">
                <div class="option" data-correct="false">No se reduplica</div>
                <div class="option" data-correct="false">Se repite la vocal con epsilon</div>
                <div class="option" data-correct="true">La vocal se alarga (α→η, ε→η, ο→ω)</div>
                <div class="option" data-correct="false">Se añade una epsilon al principio</div>
            </div>
        </div>

        <!-- Q6 -->
        <div class="question">
            <div class="question-text"><span class="question-number">6</span> ¿Qué ocurre con la aspiración en verbos que comienzan con θ, φ, χ?</div>
            <div class="options">
                <div class="option" data-correct="false">Se mantiene la aspiración</div>
                <div class="option" data-correct="true">Se pierde la aspiración en la reduplicación</div>
                <div class="option" data-correct="false">Se convierte en sigma</div>
                <div class="option" data-correct="false">Se duplica la aspiración</div>
            </div>
        </div>

        <!-- Q7 -->
        <div class="question">
            <div class="question-text"><span class="question-number">7</span> ¿Qué caracteriza a un segundo perfecto?</div>
            <div class="options">
                <div class="option" data-correct="false">Usa el formativo «κ»</div>
                <div class="option" data-correct="true">No usa el formativo «κ»</div>
                <div class="option" data-correct="false">Tiene una reduplicación diferente</div>
                <div class="option" data-correct="false">Solo existe en voz media</div>
            </div>
        </div>

        <!-- Q8 -->
        <div class="question">
            <div class="question-text"><span class="question-number">8</span> ¿Cuál es la forma de segundo perfecto de <span class="greek-text">γίνομαι</span>?</div>
            <div class="options">
                <div class="option" data-correct="false"><span class="greek-text">γεγένημαι</span></div>
                <div class="option" data-correct="true"><span class="greek-text">γέγονα</span></div>
                <div class="option" data-correct="false"><span class="greek-text">γενήσομαι</span></div>
                <div class="option" data-correct="false"><span class="greek-text">γεγονήκα</span></div>
            </div>
        </div>

        <!-- Q9 -->
        <div class="question">
            <div class="question-text"><span class="question-number">9</span> En Mateo 4:4, ¿por qué Jesús usa el perfecto <span class="greek-text">γέγραπται</span> en lugar del aoristo <span class="greek-text">ἐγράφη</span>?</div>
            <div class="options">
                <div class="option" data-correct="false">Porque suena más formal</div>
                <div class="option" data-correct="true">Para enfatizar que la Escritura permanece vigente</div>
                <div class="option" data-correct="false">Porque era la forma más común</div>
                <div class="option" data-correct="false">Por error gramatical</div>
            </div>
        </div>

        <!-- Q10 -->
        <div class="question">
            <div class="question-text"><span class="question-number">10</span> ¿Qué indica la voz media en el tiempo perfecto?</div>
            <div class="options">
                <div class="option" data-correct="false">Que la acción fue recibida por el sujeto</div>
                <div class="option" data-correct="true">Que la acción fue realizada por el sujeto con interés personal</div>
                <div class="option" data-correct="false">Que la acción es futura</div>
                <div class="option" data-correct="false">Que la acción es hipotética</div>
            </div>
        </div>

        <!-- Q11 -->
        <div class="question">
            <div class="question-text"><span class="question-number">11</span> ¿Cómo se distingue entre perfecto pasivo y perfecto medio si la forma es idéntica?</div>
            <div class="options">
                <div class="option" data-correct="false">Por la terminación</div>
                <div class="option" data-correct="false">Por la presencia del formativo «κ»</div>
                <div class="option" data-correct="true">Por el contexto y el significado del verbo</div>
                <div class="option" data-correct="false">Por la reduplicación</div>
            </div>
        </div>

        <!-- Q12 -->
        <div class="question">
            <div class="question-text"><span class="question-number">12</span> En Juan 1:18, ¿por qué es significativo que se use el perfecto <span class="greek-text">ἑώρακεν</span>?</div>
            <div class="options">
                <div class="option" data-correct="false">Porque indica que Jesús vio al Padre una vez</div>
                <div class="option" data-correct="true">Porque indica que Jesús vio al Padre y mantiene ese conocimiento</div>
                <div class="option" data-correct="false">Porque era la única forma gramatical posible</div>
                <div class="option" data-correct="false">Porque el aoristo no existía para ese verbo</div>
            </div>
        </div>

        <!-- Q13 -->
        <div class="question">
            <div class="question-text"><span class="question-number">13</span> En Romanos 5:2, ¿qué asegura el uso del perfecto <span class="greek-text">ἐσχήκαμεν</span>?</div>
            <div class="options">
                <div class="option" data-correct="false">Que el acceso a la gracia fue un evento pasado</div>
                <div class="option" data-correct="true">Que el acceso a la gracia es una realidad permanente</div>
                <div class="option" data-correct="false">Que el acceso a la gracia es futuro</div>
                <div class="option" data-correct="false">Que el acceso a la gracia es incierto</div>
            </div>
        </div>

        <!-- Q14 -->
        <div class="question">
            <div class="question-text"><span class="question-number">14</span> ¿Cuál es la forma de perfecto medio/pasivo de <span class="greek-text">λύω</span> en primera persona singular?</div>
            <div class="options">
                <div class="option" data-correct="false"><span class="greek-text">λέλυκα</span></div>
                <div class="option" data-correct="true"><span class="greek-text">λέλυμαι</span></div>
                <div class="option" data-correct="false"><span class="greek-text">ἐλύθην</span></div>
                <div class="option" data-correct="false"><span class="greek-text">λυθήσομαι</span></div>
            </div>
        </div>

        <!-- Q15 -->
        <div class="question">
            <div class="question-text"><span class="question-number">15</span> ¿Qué significa la reduplicación en el tiempo perfecto?</div>
            <div class="options">
                <div class="option" data-correct="false">Que la acción es futura</div>
                <div class="option" data-correct="false">Que la acción es hipotética</div>
                <div class="option" data-correct="true">Que la acción está completada con efectos presentes</div>
                <div class="option" data-correct="false">Que la acción es reflexiva</div>
            </div>
        </div>

        <!-- Q16 -->
        <div class="question">
            <div class="question-text"><span class="question-number">16</span> ¿Cuál de estos verbos forma un segundo perfecto?</div>
            <div class="options">
                <div class="option" data-correct="false"><span class="greek-text">ἀγαπάω</span></div>
                <div class="option" data-correct="true"><span class="greek-text">λείπω</span></div>
                <div class="option" data-correct="false"><span class="greek-text">πιστεύω</span></div>
                <div class="option" data-correct="false"><span class="greek-text">τελέω</span></div>
            </div>
        </div>

        <!-- Q17 -->
        <div class="question">
            <div class="question-text"><span class="question-number">17</span> ¿Qué matiz añade el perfecto medio/pasivo frente a una forma pasiva simple?</div>
            <div class="options">
                <div class="option" data-correct="false">Indica que la acción ocurrirá en el futuro</div>
                <div class="option" data-correct="false">Indica que la acción está en progreso</div>
                <div class="option" data-correct="true">Indica que la acción pasada tiene un estado resultante presente</div>
                <div class="option" data-correct="false">Indica que la acción es reflexiva</div>
            </div>
        </div>

        <!-- Q18 -->
        <div class="question">
            <div class="question-text"><span class="question-number">18</span> ¿Cuál es la mejor traducción para el perfecto <span class="greek-text">γέγραπται</span>?</div>
            <div class="options">
                <div class="option" data-correct="false">Fue escrito (y ya no tiene relevancia)</div>
                <div class="option" data-correct="true">Ha sido escrito (y permanece escrito/con autoridad)</div>
                <div class="option" data-correct="false">Está siendo escrito</div>
                <div class="option" data-correct="false">Será escrito</div>
            </div>
        </div>

        <!-- Q19 -->
        <div class="question">
            <div class="question-text"><span class="question-number">19</span> ¿Qué verbo tiene la forma de perfecto <span class="greek-text">ἐλήλυθα</span>?</div>
            <div class="options">
                <div class="option" data-correct="false"><span class="greek-text">ἀκούω</span></div>
                <div class="option" data-correct="false"><span class="greek-text">γράφω</span></div>
                <div class="option" data-correct="true"><span class="greek-text">ἔρχομαι</span></div>
                <div class="option" data-correct="false"><span class="greek-text">λύω</span></div>
            </div>
        </div>

        <!-- Q20 -->
        <div class="question">
            <div class="question-text"><span class="question-number">20</span> ¿Por qué es teológicamente significativo que Jesús usara el tiempo perfecto en <span class="greek-text">Τετέλεσται</span>?</div>
            <div class="options">
                <div class="option" data-correct="false">Porque muestra que su obra fue solo un evento histórico</div>
                <div class="option" data-correct="true">Porque muestra que su obra tiene efectos permanentes en el presente</div>
                <div class="option" data-correct="false">Porque era la forma más común de hablar en griego</div>
                <div class="option" data-correct="false">Porque el aoristo no existía en ese tiempo</div>
            </div>
        </div>
    </div>

    <div class="actions">
        <button id="check-answers" class="btn btn-check"><i class="fas fa-check-circle"></i> Verificar Respuestas</button>
        <button id="download-report" class="btn btn-download" disabled><i class="fas fa-download"></i> Descargar Reporte (.txt)</button>
    </div>

    <div id="result" class="result-container" aria-live="polite">
        <h2>Resultados</h2>
        <div class="score" id="final-score">0/20</div>
        <div class="score-text">Respuestas correctas: <strong id="correct-count">0</strong> de 20.</div>
        <p id="final-message"></p>
    </div>
</div>

<footer>
    <p>&copy; 2025 Ministerio Vivos para Servir — Curso de Griego Koiné</p>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const checkBtn = document.getElementById('check-answers');
    const downloadBtn = document.getElementById('download-report');
    const questions = document.querySelectorAll('.question');
    const studentNameInput = document.getElementById('student-name');
    const weekInput = document.getElementById('week');
    const resultBox = document.getElementById('result');
    const finalScoreEl = document.getElementById('final-score');
    const correctCountEl = document.getElementById('correct-count');
    const finalMsgEl = document.getElementById('final-message');

    let examResults = [];
    let totalCorrect = 0;

    // Option selection behavior
    document.querySelectorAll('.option').forEach(opt => {
        opt.addEventListener('click', () => {
            const q = opt.closest('.question');
            q.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
            opt.classList.add('selected');
        });
    });

    // Verify answers
    checkBtn.addEventListener('click', () => {
        const studentName = studentNameInput.value.trim();
        if (!studentName) {
            alert('Ingresa tu nombre antes de verificar las respuestas.');
            studentNameInput.focus();
            return;
        }

        examResults = [];
        totalCorrect = 0;

        questions.forEach((q, idx) => {
            const opts = q.querySelectorAll('.option');
            const selected = q.querySelector('.option.selected');
            let correctOpt = null;
            opts.forEach(o => { if (o.getAttribute('data-correct') === 'true') correctOpt = o; });

            const chosenText = selected ? selected.textContent.trim() : 'Sin respuesta';
            const correctText = correctOpt ? correctOpt.textContent.trim() : '—';
            const isCorrect = selected === correctOpt;

            if (isCorrect) totalCorrect++;

            // store result
            examResults.push({
                question: idx + 1,
                selected: chosenText,
                correct: correctText,
                isCorrect: isCorrect
            });

            // visual feedback
            opts.forEach(o => {
                o.classList.remove('correct','incorrect');
                if (o.getAttribute('data-correct') === 'true') o.classList.add('correct');
                if (o.classList.contains('selected') && !isCorrect) o.classList.add('incorrect');
            });
        });

        // Show results
        finalScoreEl.textContent = `${totalCorrect}/20`;
        correctCountEl.textContent = totalCorrect;

        if (totalCorrect >= 18) {
            finalMsgEl.textContent = '¡Excelente! Dominio del tiempo perfecto.';
            finalMsgEl.style.color = 'var(--correct-color)';
        } else if (totalCorrect >= 14) {
            finalMsgEl.textContent = 'Buen trabajo. Revisa las preguntas incorrectas.';
            finalMsgEl.style.color = 'var(--secondary-color)';
        } else {
            finalMsgEl.textContent = 'Necesitas repasar el tiempo perfecto. Sigue practicando.';
            finalMsgEl.style.color = 'var(--incorrect-color)';
        }

        resultBox.style.display = 'block';
        downloadBtn.disabled = false;
        resultBox.scrollIntoView({behavior:'smooth'});
    });

    // Download report
    downloadBtn.addEventListener('click', () => {
        const studentName = studentNameInput.value.trim() || 'Sin_Nombre';
        const week = weekInput.value || 'Semana_19';
        const date = new Date().toLocaleString('es-ES');
        let report = '';
        report += 'MINISTERIO VIVOS PARA SERVIR\n';
        report += 'Curso de Griego Koiné — Examen Semana 19 (Tiempo Perfecto)\n';
        report += '=============================================\n\n';
        report += `Estudiante: ${studentName}\n`;
        report += `Fecha: ${date}\n`;
        report += `Semana: ${week}\n`;
        report += `Calificación: ${totalCorrect}/20 (${(totalCorrect/20*100).toFixed(1)}%)\n\n`;
        report += 'RESULTADOS POR PREGUNTA:\n';
        report += '-----------------------------------------\n\n';

        examResults.forEach(r => {
            report += `Pregunta ${r.question}:\n`;
            report += `  Tu respuesta: ${r.selected}\n`;
            report += `  Respuesta correcta: ${r.correct}\n`;
            report += `  Estado: ${r.isCorrect ? 'CORRECTA' : 'INCORRECTA'}\n\n`;
        });

        report += '-----------------------------------------\n';
        report += 'RESUMEN:\n';
        report += `  Correctas: ${totalCorrect}\n`;
        report += `  Incorrectas: ${20 - totalCorrect}\n`;
        report += `  Porcentaje: ${(totalCorrect/20*100).toFixed(1)}%\n\n`;
        report += 'Notas: Repasa la formación del perfecto, reduplicación, segundo perfecto y el valor teológico del tiempo perfecto.\n\n';
        report += 'Ministerio Vivos para Servir — Para la gloria de Dios\n';

        const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        const safeName = studentName.replace(/\s+/g,'_').replace(/[^\w\-]/g,'') || 'Estudiante';
        a.download = `Examen_Perfecto_Semana19_${safeName}.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    });

});
</script>
</body>
</html>