<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Examen: Participio Presente — Semana 21 | Griego Koiné</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --primary-color:#2c3e50;
      --secondary-color:#3498db;
      --accent-color:#e74c3c;
      --light-color:#ecf0f1;
      --dark-color:#2c3e50;
      --correct-color:#2ecc71;
      --incorrect-color:#e74c3c;
      --transition-speed:.4s;
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:"Segoe UI",Tahoma,Arial,sans-serif}
    body{background:#f5f7fa;color:var(--dark-color);line-height:1.6;padding-bottom:2rem}
    .container{max-width:900px;margin:0 auto;padding:16px}
    header{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;padding:1rem 0;text-align:center;border-bottom:6px solid rgba(255,255,255,.06);box-shadow:0 6px 20px rgba(0,0,0,.08);margin-bottom:1.2rem}
    .logo{width:72px;height:72px;border-radius:50%;border:3px solid #fff;object-fit:cover;display:inline-block;margin-bottom:.6rem}
    header h1{font-size:1.5rem;margin-bottom:.2rem}
    header p{opacity:.95}
    .exam-info{background:#fff;padding:1.1rem;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,.06);margin-bottom:1rem}
    .student-data{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:.6rem}
    label{display:block;font-weight:700;color:var(--primary-color);margin-bottom:6px}
    input[type="text"]{width:100%;padding:10px;border:1px solid #ddd;border-radius:6px;font-size:1rem}
    .note{background:#e8f4fc;border-left:4px solid var(--secondary-color);padding:.8rem;border-radius:4px;margin-top:.8rem;font-size:.95rem}
    .question{background:#fff;border-radius:10px;padding:1.05rem;margin-bottom:12px;box-shadow:0 6px 18px rgba(0,0,0,.04)}
    .question-number{display:inline-block;width:32px;height:32px;border-radius:50%;background:var(--secondary-color);color:#fff;text-align:center;line-height:32px;font-weight:800;margin-right:10px}
    .question-text{font-weight:700;color:var(--primary-color);margin-bottom:.6rem}
    .options{display:grid;grid-template-columns:1fr;gap:8px}
    .option{padding:10px;border-radius:8px;background:#f8f9fa;border:1px solid #ddd;cursor:pointer;transition:all .15s ease}
    .option:hover{background:#eef7ff;border-color:var(--secondary-color)}
    .option.selected{background:var(--secondary-color);color:#fff;border-color:var(--secondary-color)}
    .option.correct{background:var(--correct-color);color:#fff;border-color:var(--correct-color)}
    .option.incorrect{background:var(--incorrect-color);color:#fff;border-color:var(--incorrect-color)}
    .actions{display:flex;justify-content:center;gap:12px;margin-top:14px}
    .btn{padding:12px 18px;border-radius:8px;border:none;cursor:pointer;font-weight:700;color:#fff;display:inline-flex;align-items:center;gap:8px}
    .btn-check{background:var(--secondary-color)}
    .btn-download{background:var(--accent-color)}
    .btn:disabled{opacity:.6;cursor:not-allowed}
    .result-container{background:#fff;padding:1rem;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,.04);margin-top:14px;display:none;text-align:center}
    .score{font-size:1.8rem;font-weight:800;color:var(--primary-color);margin-bottom:.4rem}
    .score-text{font-size:1rem;margin-bottom:.6rem}
    footer{text-align:center;padding:1rem;color:#7f8c8d;margin-top:18px;font-size:.9rem}
    @media(max-width:760px){
      .student-data{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
<header>
  <img class="logo" src="https://i.postimg.cc/wMJ2bCgV/mas-logos.jpg" alt="Logo Vivos para Servir">
  <h1>Examen: Participio Presente — Semana 21</h1>
  <p>Ministerio Vivos para Servir — Curso de Griego Koiné</p>
</header>

<div class="container">
  <div class="exam-info">
    <h2>Instrucciones</h2>
    <p>Responde las 20 preguntas de selección múltiple sobre el <strong>participio presente</strong>. Este examen es <strong>autoevaluable</strong>. Al final podrás descargar un archivo .txt con tu reporte.</p>

    <div class="student-data">
      <div>
        <label for="student-name">Nombre del estudiante</label>
        <input id="student-name" type="text" placeholder="Tu nombre completo">
      </div>
      <div>
        <label for="week">Semana</label>
        <input id="week" type="text" value="Semana 21" readonly>
      </div>
    </div>

    <div class="note">
      <strong>Importante:</strong> Selecciona una opción por pregunta. Si dejas alguna sin respuesta será contada como incorrecta.
    </div>
  </div>

  <div id="questions">
    <!-- 20 PREGUNTAS -->
    <!-- Q1 -->
    <div class="question">
      <div class="question-text"><span class="question-number">1</span> ¿Qué expresa principalmente el participio presente en griego?</div>
      <div class="options">
        <div class="option" data-correct="true">Acción continua en proceso</div>
        <div class="option" data-correct="false">Acción completada</div>
        <div class="option" data-correct="false">Tiempo futuro</div>
        <div class="option" data-correct="false">Modo imperativo</div>
      </div>
    </div>

    <!-- Q2 -->
    <div class="question">
      <div class="question-text"><span class="question-number">2</span> ¿Cómo suele traducirse un participio presente?</div>
      <div class="options">
        <div class="option" data-correct="true">Con -ando/-iendo (ej. enseñando)</div>
        <div class="option" data-correct="false">Con «habiendo…»</div>
        <div class="option" data-correct="false">Con «había…»</div>
        <div class="option" data-correct="false">Siempre como sustantivo</div>
      </div>
    </div>

    <!-- Q3 -->
    <div class="question">
      <div class="question-text"><span class="question-number">3</span> ¿Cuál es la estructura de formación del participio presente?</div>
      <div class="options">
        <div class="option" data-correct="true">Tema presente + vocal de enlace + morfema participial + desinencia</div>
        <div class="option" data-correct="false">Raíz + augmento + desinencia personal</div>
        <div class="option" data-correct="false">Reduplicación + desinencia</div>
        <div class="option" data-correct="false">Solo raíz verbal</div>
      </div>
    </div>

    <!-- Q4 -->
    <div class="question">
      <div class="question-text"><span class="question-number">4</span> ¿Cuál es la terminación del participio presente activo masculino singular nominativo de λύω?</div>
      <div class="options">
        <div class="option" data-correct="true">-ων (λύων)</div>
        <div class="option" data-correct="false">-μενος</div>
        <div class="option" data-correct="false">-ουσα</div>
        <div class="option" data-correct="false">-οντος</div>
      </div>
    </div>

    <!-- Q5 -->
    <div class="question">
      <div class="question-text"><span class="question-number">5</span> ¿Qué voz utiliza las formas -μενος, -μενη, -μενον?</div>
      <div class="options">
        <div class="option" data-correct="false">Activo</div>
        <div class="option" data-correct="true">Medio/Pasivo</div>
        <div class="option" data-correct="false">Futuro</div>
        <div class="option" data-correct="false">Imperativo</div>
      </div>
    </div>

    <!-- Q6 -->
    <div class="question">
      <div class="question-text"><span class="question-number">6</span> En 2 Corintios 3:18, κατοπτριζόμενοι indica:</div>
      <div class="options">
        <div class="option" data-correct="true">Acción en proceso: «contemplando»</div>
        <div class="option" data-correct="false">Acción completada</div>
        <div class="option" data-correct="false">Orden o mandato</div>
        <div class="option" data-correct="false">Una cláusula principal</div>
      </div>
    </div>

    <!-- Q7 -->
    <div class="question">
      <div class="question-text"><span class="question-number">7</span> ¿Qué uso tiene δίκαιος ὢν en Mateo 1:19?</div>
      <div class="options">
        <div class="option" data-correct="true">Causal</div>
        <div class="option" data-correct="false">Temporal</div>
        <div class="option" data-correct="false">Concesivo</div>
        <div class="option" data-correct="false">Condicional</div>
      </div>
    </div>

    <!-- Q8 -->
    <div class="question">
      <div class="question-text"><span class="question-number">8</span> ¿Qué caso, número y género es λυομένην?</div>
      <div class="options">
        <div class="option" data-correct="true">Acusativo singular femenino</div>
        <div class="option" data-correct="false">Nominativo singular masculino</div>
        <div class="option" data-correct="false">Genitivo plural femenino</div>
        <div class="option" data-correct="false">Dativo singular neutro</div>
      </div>
    </div>

    <!-- Q9 -->
    <div class="question">
      <div class="question-text"><span class="question-number">9</span> ¿Qué negación suele acompañar a los participios?</div>
      <div class="options">
        <div class="option" data-correct="true">μή</div>
        <div class="option" data-correct="false">οὐ</div>
        <div class="option" data-correct="false">οὐκ</div>
        <div class="option" data-correct="false">μήν</div>
      </div>
    </div>

    <!-- Q10 -->
    <div class="question">
      <div class="question-text"><span class="question-number">10</span> El participio λύουσα es:</div>
      <div class="options">
        <div class="option" data-correct="true">Femenino singular nominativo</div>
        <div class="option" data-correct="false">Masculino singular genitivo</div>
        <div class="option" data-correct="false">Neutro singular nominativo</div>
        <div class="option" data-correct="false">Plural acusativo</div>
      </div>
    </div>

    <!-- Q11 -->
    <div class="question">
      <div class="question-text"><span class="question-number">11</span> ¿Cuál es la diferencia entre presente y aoristo participial?</div>
      <div class="options">
        <div class="option" data-correct="true">Presente = acción en proceso; Aoristo = acción puntual</div>
        <div class="option" data-correct="false">Presente = acción futura; Aoristo = acción pasada</div>
        <div class="option" data-correct="false">Presente = tiempo verbal absoluto</div>
        <div class="option" data-correct="false">No hay diferencia</div>
      </div>
    </div>

    <!-- Q12 -->
    <div class="question">
      <div class="question-text"><span class="question-number">12</span> ¿Qué indica el participio διδάσκων?</div>
      <div class="options">
        <div class="option" data-correct="true">Enseñando</div>
        <div class="option" data-correct="false">Que enseñó</div>
        <div class="option" data-correct="false">Será enseñado</div>
        <div class="option" data-correct="false">Fue enseñado</div>
      </div>
    </div>

    <!-- Q13 -->
    <div class="question">
      <div class="question-text"><span class="question-number">13</span> ¿Qué clase de palabra es un participio en griego?</div>
      <div class="options">
        <div class="option" data-correct="true">Verbo adjetival</div>
        <div class="option" data-correct="false">Sustantivo puro</div>
        <div class="option" data-correct="false">Adverbio</div>
        <div class="option" data-correct="false">Preposición</div>
      </div>
    </div>

    <!-- Q14 -->
    <div class="question">
      <div class="question-text"><span class="question-number">14</span> ¿Cuál de estos es un participio presente medio?</div>
      <div class="options">
        <div class="option" data-correct="true">λυόμενος</div>
        <div class="option" data-correct="false">λύων</div>
        <div class="option" data-correct="false">λύσας</div>
        <div class="option" data-correct="false">λελυκώς</div>
      </div>
    </div>

    <!-- Q15 -->
    <div class="question">
      <div class="question-text"><span class="question-number">15</span> ¿Qué partícula se usa para traducciones condicionales con participios?</div>
      <div class="options">
        <div class="option" data-correct="true">ἐάν / si</div>
        <div class="option" data-correct="false">δέ</div>
        <div class="option" data-correct="false">γάρ</div>
        <div class="option" data-correct="false">μή</div>
      </div>
    </div>

    <!-- Q16 -->
    <div class="question">
      <div class="question-text"><span class="question-number">16</span> ¿Cómo se traduce mejor ὁ πιστεύων?</div>
      <div class="options">
        <div class="option" data-correct="true">El que cree</div>
        <div class="option" data-correct="false">Que creyó</div>
        <div class="option" data-correct="false">Creerá</div>
        <div class="option" data-correct="false">Fue creyente</div>
      </div>
    </div>

    <!-- Q17 -->
    <div class="question">
      <div class="question-text"><span class="question-number">17</span> ¿Cuál es la función típica de un participio que concuerda con un sustantivo?</div>
      <div class="options">
        <div class="option" data-correct="true">Adjetival</div>
        <div class="option" data-correct="false">Adverbial</div>
        <div class="option" data-correct="false">Sustantiva siempre</div>
        <div class="option" data-correct="false">Verbo principal</div>
      </div>
    </div>

    <!-- Q18 -->
    <div class="question">
      <div class="question-text"><span class="question-number">18</span> ¿Qué género tiene λῦον?</div>
      <div class="options">
        <div class="option" data-correct="true">Neutro</div>
        <div class="option" data-correct="false">Masculino</div>
        <div class="option" data-correct="false">Femenino</div>
        <div class="option" data-correct="false">Común</div>
      </div>
    </div>

    <div class="question">
      <div class="question-text"><span class="question-number">19</span> ¿Qué debe identificarse primero al analizar un participio presente?</div>
      <div class="options">
        <div class="option" data-correct="true">Aspecto (presente: continuo) y voz, luego caso/número/género</div>
        <div class="option" data-correct="false">Solo el caso</div>
        <div class="option" data-correct="false">Solo la traducción</div>
        <div class="option" data-correct="false">Su posición en la frase</div>
      </div>
    </div>

    <!-- Q20 -->
    <div class="question">
      <div class="question-text"><span class="question-number">20</span> ¿Cuál es el uso adverbial cuando un participio significa «mientras»?</div>
      <div class="options">
        <div class="option" data-correct="true">Temporal</div>
        <div class="option" data-correct="false">Causal</div>
        <div class="option" data-correct="false">Concesivo</div>
        <div class="option" data-correct="false">Condicional</div>
      </div>
    </div>
  </div>

  <div class="actions">
    <button id="check-answers" class="btn btn-check"><i class="fas fa-check-circle"></i> Verificar Respuestas</button>
    <button id="download-report" class="btn btn-download" disabled><i class="fas fa-download"></i> Descargar Reporte (.txt)</button>
  </div>

  <div id="result" class="result-container" aria-live="polite">
    <h2>Resultados</h2>
    <div class="score" id="final-score">0/20</div>
    <div class="score-text">Respuestas correctas: <strong id="correct-count">0</strong> de 20.</div>
    <p id="final-message"></p>
  </div>
</div>

<footer>
  <p>&copy; 2025 Ministerio Vivos para Servir — Curso de Griego Koiné</p>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const checkBtn = document.getElementById('check-answers');
  const downloadBtn = document.getElementById('download-report');
  const questions = document.querySelectorAll('.question');
  const studentNameInput = document.getElementById('student-name');
  const weekInput = document.getElementById('week');
  const resultBox = document.getElementById('result');
  const finalScoreEl = document.getElementById('final-score');
  const correctCountEl = document.getElementById('correct-count');
  const finalMsgEl = document.getElementById('final-message');

  let examResults = [];
  let totalCorrect = 0;

  // selección
  document.querySelectorAll('.option').forEach(opt => {
    opt.addEventListener('click', () => {
      const q = opt.closest('.question');
      q.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
      opt.classList.add('selected');
    });
  });

  // verificar
  checkBtn.addEventListener('click', () => {
    const studentName = studentNameInput.value.trim();
    if (!studentName) {
      alert('Ingresa tu nombre antes de verificar las respuestas.');
      studentNameInput.focus();
      return;
    }

    examResults = [];
    totalCorrect = 0;

    questions.forEach((q, idx) => {
      const opts = q.querySelectorAll('.option');
      const selected = q.querySelector('.option.selected');
      let correctOpt = null;
      opts.forEach(o => { if (o.getAttribute('data-correct') === 'true') correctOpt = o; });

      const chosenText = selected ? selected.textContent.trim() : 'Sin respuesta';
      const correctText = correctOpt ? correctOpt.textContent.trim() : '—';
      const isCorrect = selected === correctOpt;

      if (isCorrect) totalCorrect++;

      examResults.push({
        question: idx + 1,
        selected: chosenText,
        correct: correctText,
        isCorrect: isCorrect
      });

      // feedback visual
      opts.forEach(o => {
        o.classList.remove('correct','incorrect');
        if (o.getAttribute('data-correct') === 'true') o.classList.add('correct');
        if (o.classList.contains('selected') && !isCorrect) o.classList.add('incorrect');
      });
    });

    // resultados
    finalScoreEl.textContent = `${totalCorrect}/20`;
    correctCountEl.textContent = totalCorrect;

    if (totalCorrect >= 18) {
      finalMsgEl.textContent = '¡Excelente! Dominio del tema.';
      finalMsgEl.style.color = 'var(--correct-color)';
    } else if (totalCorrect >= 14) {
      finalMsgEl.textContent = 'Buen trabajo. Revisa las preguntas incorrectas.';
      finalMsgEl.style.color = 'var(--secondary-color)';
    } else {
      finalMsgEl.textContent = 'Necesitas repasar el participio presente.';
      finalMsgEl.style.color = 'var(--incorrect-color)';
    }

    resultBox.style.display = 'block';
    downloadBtn.disabled = false;
    resultBox.scrollIntoView({behavior:'smooth'});
  });

  // descargar reporte
  downloadBtn.addEventListener('click', () => {
    const studentName = studentNameInput.value.trim() || 'Sin_Nombre';
    const week = weekInput.value || 'Semana_21';
    const date = new Date().toLocaleString('es-ES');
    let report = '';
    report += 'MINISTERIO VIVOS PARA SERVIR\n';
    report += 'Curso de Griego Koiné — Examen Semana 21 (Participio Presente)\n';
    report += '=============================================\n\n';
    report += `Estudiante: ${studentName}\n`;
    report += `Fecha: ${date}\n`;
    report += `Semana: ${week}\n`;
    report += `Calificación: ${totalCorrect}/20 (${(totalCorrect/20*100).toFixed(1)}%)\n\n`;
    report += 'RESULTADOS POR PREGUNTA:\n';
    report += '-----------------------------------------\n\n';

    examResults.forEach(r => {
      report += `Pregunta ${r.question}:\n`;
      report += `  Tu respuesta: ${r.selected}\n`;
      report += `  Respuesta correcta: ${r.correct}\n`;
      report += `  Estado: ${r.isCorrect ? 'CORRECTA' : 'INCORRECTA'}\n\n`;
    });

    report += '-----------------------------------------\n';
    report += 'RESUMEN:\n';
    report += `  Correctas: ${totalCorrect}\n`;
    report += `  Incorrectas: ${20 - totalCorrect}\n`;
    report += `  Porcentaje: ${(totalCorrect/20*100).toFixed(1)}%\n\n`;
    report += 'Notas: Refuerza la identificación de las formas activas y medio/pasivas, y el uso adverbial.\n\n';
    report += 'Ministerio Vivos para Servir — Para la gloria de Dios\n';

    const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    const safeName = studentName.replace(/\s+/g,'_').replace(/[^\w\-]/g,'') || 'Estudiante';
    a.download = `Examen_ParticipioPresente_Semana21_${safeName}.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  });

});
</script>
</body>
</html>